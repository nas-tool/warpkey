<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CloudFlare WARP Key</title>
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/antd@5.4.0/dist/reset.css">
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/element-ui/lib/index.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue-i18n@8.24.5/dist/vue-i18n.min.js"></script>
  <script defer src="https://statistics.wanghaoyu.com.cn/script.js" data-website-id="6356ad68-4066-4b3f-845f-d09517d940ce"></script>
  <style>
    :root {
      --primary-color: #409EFF;
      --secondary-color: #67C23A;
      --background-color: #f5f7fa;
      --text-color: #2c3e50;
      --border-color: #dcdfe6;
    }

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background-color: var(--background-color);
      color: var(--text-color);
      line-height: 1.6;
    }

    #app {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      box-sizing: border-box;
    }

    .header {
      background: #fff;
      border-bottom: 1px solid var(--border-color);
      box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 20px;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .footer {
      text-align: center;
      padding: 30px;
      margin-top: 40px;
      border-top: 1px solid var(--border-color);
      background: #fff;
      box-shadow: 0 -2px 12px 0 rgba(0, 0, 0, 0.1);
    }

    .el-menu {
      line-height: 64px;
      border: none !important;
    }

    .el-menu-item {
      padding: 0 25px;
      font-size: 15px;
      transition: all 0.3s ease;
    }

    .el-menu-item:hover {
      color: var(--primary-color);
      background-color: rgba(64, 158, 255, 0.1);
    }

    .el-menu-item.is-active {
      color: var(--primary-color) !important;
      border-bottom: 2px solid var(--primary-color);
    }

    .language-switcher {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .language-switcher a {
      color: var(--text-color);
      text-decoration: none;
      padding: 5px 10px;
      border-radius: 4px;
      transition: all 0.3s ease;
      font-size: 14px;
    }

    .language-switcher a:hover {
      color: var(--primary-color);
      background-color: rgba(64, 158, 255, 0.1);
    }

    /* 表格样式优化 */
    .el-table {
      margin-top: 30px !important;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);
    }

    .el-table th {
      background-color: #f5f7fa !important;
      color: var(--text-color);
      font-weight: 600;
      padding: 12px 0;
    }

    .el-table td {
      padding: 12px 0;
    }

    /* 关于页面样式 */
    .about-section {
      background: #fff;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);
      margin-top: 30px;
    }

    .about-section h2 {
      color: var(--primary-color);
      margin-bottom: 20px;
      font-size: 24px;
    }

    .about-section p {
      margin: 15px 0;
      line-height: 1.8;
    }

    .about-section a {
      color: var(--primary-color);
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .about-section a:hover {
      color: #66b1ff;
      text-decoration: underline;
    }

    /* 响应式设计 */
    @media screen and (max-width: 768px) {
      #app {
        padding: 10px;
      }

      .header {
        flex-direction: column;
        padding: 10px;
      }

      .el-menu {
        width: 100%;
      }

      .el-menu-item {
        padding: 0 15px;
        font-size: 14px;
      }

      .language-switcher {
        margin-top: 10px;
        margin-bottom: 10px;
      }
    }

    /* 加载动画 */
    .loading-spinner {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100px;
    }

    .loading-spinner::after {
      content: '';
      width: 30px;
      height: 30px;
      border: 2px solid var(--primary-color);
      border-top-color: transparent;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    /* 表格中的复制按钮样式 */
    .key-cell {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 8px 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      border-radius: 4px;
    }

    .key-cell:hover {
      background-color: rgba(64, 158, 255, 0.1);
    }

    .key-cell .el-icon-document-copy {
      font-size: 16px;
      color: #909399;
      margin-left: 8px;
      opacity: 0;
      transition: all 0.3s ease;
    }

    .key-cell:hover .el-icon-document-copy {
      opacity: 1;
      color: var(--primary-color);
    }

    /* 消息提示样式优化 */
    .el-message {
      min-width: 300px;
      padding: 15px 20px;
      border-radius: 8px;
    }

    .el-message--success {
      background-color: #f0f9eb;
      border-color: #e1f3d8;
    }

    .el-message--error {
      background-color: #fef0f0;
      border-color: #fde2e2;
    }

    /* 工具提示样式优化 */
    .el-tooltip__popper {
      font-size: 14px;
      padding: 8px 12px;
      border-radius: 4px;
    }

    /* 页面过渡动画 */
    .fade-enter-active, .fade-leave-active {
      transition: opacity 0.3s ease;
    }

    .fade-enter, .fade-leave-to {
      opacity: 0;
    }
  </style>
</head>
<body>
  <div id="app">
    <a-layout>
      <a-layout-header class="header">
        <el-menu :default-active="selectedMenu" mode="horizontal" class="el-menu" @select="handleMenuSelect">
          <el-menu-item index="full">{{ $t('menu.fullVersion') }}</el-menu-item>
          <el-menu-item index="lite">{{ $t('menu.liteVersion') }}</el-menu-item>
          <el-menu-item index="about">{{ $t('menu.about') }}</el-menu-item>
          <el-menu-item index="github" @click="goToGitHub">{{ $t('menu.github') }}</el-menu-item>
          <el-menu-item index="releases" @click="goToReleases">{{ $t('menu.releases') }}</el-menu-item>
        </el-menu>
        <div class="language-switcher">
          <a @click="switchLanguage('en')">{{ $t('language.en') }}</a>
          <a @click="switchLanguage('zh')">{{ $t('language.zh') }}</a>
        </div>
      </a-layout-header>
      <a-layout-content style="padding: 20px;">
        <div v-if="selectedMenu === 'about'" class="about-section">
          <h2>{{ $t('about.title') }}</h2>
          <p>{{ $t('about.description') }}</p>
          <p>{{ $t('about.blog') }}: <a href="https://wanghaoyu.com.cn" target="_blank">wanghaoyu.com.cn</a></p>
          <p>{{ $t('about.readme') }}: <a href="https://ghproxy.cnproxy.top/https://raw.githubusercontent.com/nas-tool/warpkey/main/README.md" target="_blank">README</a></p>
          <p>{{ $t('about.update') }}</p>
        </div>
        <template v-else>
          <div class="loading-spinner" v-if="loading"></div>
          <el-table
            v-else
            :data="keys"
            style="width: 100%"
            :empty-text="$t('table.noData')"
            @row-click="handleRowClick"
          >
            <el-table-column prop="key" :label="$t('table.keyColumn')" min-width="250">
              <template slot-scope="scope">
                <el-tooltip :content="$t('table.clickToCopy')" placement="top" :open-delay="500">
                  <div class="key-cell" @click.stop="copyKey(scope.row.key)">
                    {{ scope.row.key }}
                    <i class="el-icon-document-copy"></i>
                  </div>
                </el-tooltip>
              </template>
            </el-table-column>
          </el-table>
        </template>
      </a-layout-content>
      <div class="footer">
        <p>&copy; 2024 CloudFlare WARP Key Collection Tool. Licensed under the MIT License.</p>
        <p style="margin-top: 10px; font-size: 14px; color: #909399;">
          <a href="https://github.com/nas-tool/warpkey" target="_blank" style="color: inherit; text-decoration: none;">
            <i class="el-icon-star-on"></i> Star on GitHub
          </a>
        </p>
      </div>
    </a-layout>
  </div>

  <script>
    const messages = {
      en: {
        menu: {
          fullVersion: 'Full Version',
          liteVersion: 'Lite Version',
          about: 'About',
          github: 'GitHub',
          releases: 'Releases'
        },
        about: {
          title: 'About',
          description: 'This project is a CloudFlare WARP key collection tool. It fetches keys from Telegram and stores them locally.',
          blog: 'You can find more information and updates on my blog',
          readme: 'For more details, please refer to the',
          update: 'Keys are updated to GitHub daily at Every Hour. Last update: 2025-10-30 21:28:18. Last update: 2025-10-30 20:32:41. Last update: 2025-10-30 19:13:44. Last update: 2025-10-30 18:17:29. Last update: 2025-10-30 17:17:33. Last update: 2025-10-30 16:20:45. Last update: 2025-10-30 16:09:27. You can directly obtain the latest key from this website.',
        },
        language: {
          en: 'English',
          zh: '中文'
        },
        table: {
          keyColumn: 'WARP Key',
          noData: 'No data available',
          clickToCopy: 'Click to copy',
          copySuccess: 'Copied to clipboard!',
          copyFailed: 'Failed to copy, please try again'
        },
        notification: {
          loading: 'Loading...',
          error: 'Error occurred while fetching data'
        }
      },
      zh: {
        menu: {
          fullVersion: '完整版',
          liteVersion: '精简版',
          about: '关于',
          github: 'GitHub',
          releases: 'Releases'
        },
        about: {
          title: '关于',
          description: '该项目是一个 CloudFlare WARP 密钥收集工具。它从 Telegram 获取密钥并将其存储在本地。',
          blog: '你可以在我的博客中找到更多信息和更新',
          readme: '有关详细信息，请参阅',
          update: '密钥会每个小时自动push到本仓库中,你可以通过本站获取。最后更新: 2025-10-30 21:28:18。最后更新: 2025-10-30 20:32:41。最后更新: 2025-10-30 19:13:44。最后更新: 2025-10-30 18:17:29。最后更新: 2025-10-30 17:17:33。最后更新: 2025-10-30 16:20:45。最后更新: 2025-10-30 16:09:27',
        },
        language: {
          en: 'English',
          zh: '中文'
        },
        table: {
          keyColumn: 'WARP 密钥',
          noData: '暂无数据',
          clickToCopy: '点击复制',
          copySuccess: '已复制到剪贴板！',
          copyFailed: '复制失败，请重试'
        },
        notification: {
          loading: '加载中...',
          error: '获取数据时发生错误'
        }
      }
    };

    new Vue({
      el: '#app',
      i18n: new VueI18n({
        locale: localStorage.getItem('lang') || 'en',
        messages
      }),
      data() {
        return {
          selectedMenu: 'full',
          keys: [],
          loading: false
        };
      },
      methods: {
        async fetchKeys() {
          if (this.selectedMenu === 'about') return;
          
          this.loading = true;
          try {
            const response = await axios.get(
              `https://ghproxy.cfd/https://raw.githubusercontent.com/nas-tool/warpkey/main/data/${this.selectedMenu}`
            );
            this.keys = response.data.trim().split('\n').map(key => ({ key }));
          } catch (error) {
            console.error('Error fetching keys:', error);
            this.$message.error(this.$t('notification.error'));
          } finally {
            this.loading = false;
          }
        },
        handleMenuSelect(index) {
          this.selectedMenu = index;
          if (index !== 'about') this.fetchKeys();
        },
        switchLanguage(lang) {
          this.$i18n.locale = lang;
          localStorage.setItem('lang', lang);
          window.location.href = `index.html?lang=${lang}`;
        },
        goToGitHub() {
          window.open('https://github.com/nas-tool/warpkey', '_blank');
        },
        goToReleases() {
          window.open('https://github.com/nas-tool/warpkey/releases', '_blank');
        },
        async copyKey(key) {
          try {
            await navigator.clipboard.writeText(key);
            this.$message({
              message: this.$t('table.copySuccess'),
              type: 'success',
              duration: 2000
            });
          } catch (err) {
            this.$message({
              message: this.$t('table.copyFailed'),
              type: 'error',
              duration: 2000
            });
          }
        },
        handleRowClick(row) {
          this.copyKey(row.key);
        }
      },
      mounted() {
        this.fetchKeys();
      }
    });
  </script>
</body>
</html>
